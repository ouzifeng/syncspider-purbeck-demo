<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>
      Cost Center Management | TailAdmin
    </title>
  </head>
  <body
    x-data="{
      page: 'costCenters',
      'loaded': true,
      'darkMode': false,
      'stickyMenu': false,
      'sidebarToggle': false,
      'scrollTop': false,
      'selectedCustomer': 'Hugo Boss',
      'activeTab': 'costCenter',
      'searchQuery': '',
      'expandedCard': null,
      'editModal': false,
      'editingItem': null,
      'showSuccess': false,
      toggleCard(id) {
        this.expandedCard = this.expandedCard === id ? null : id;
      },
      openEdit(item) {
        this.editingItem = item;
        this.editModal = true;
      },
      saveEdit() {
        this.editModal = false;
        this.showSuccess = true;
        setTimeout(() => {
          this.showSuccess = false;
        }, 3000);
      }
    }"
    x-init="
         darkMode = JSON.parse(localStorage.getItem('darkMode'));
         $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
    :class="{'dark bg-gray-900': darkMode === true}"
  >
    <!-- ===== Preloader Start ===== -->
    <include src="./partials/preloader.html"></include>
    <!-- ===== Preloader End ===== -->

    <!-- ===== Page Wrapper Start ===== -->
    <div class="flex h-screen overflow-hidden">
      <!-- ===== Sidebar Start ===== -->
      <include src="./partials/sidebar.html"></include>
      <!-- ===== Sidebar End ===== -->

      <!-- ===== Content Area Start ===== -->
      <div
        class="relative flex flex-1 flex-col overflow-x-hidden overflow-y-auto"
      >
        <!-- Small Device Overlay Start -->
        <include src="./partials/overlay.html" />
        <!-- Small Device Overlay End -->

        <!-- ===== Header Start ===== -->
        <include src="./partials/header.html" />
        <!-- ===== Header End ===== -->

        <!-- ===== Main Content Start ===== -->
        <main>
          <div class="mx-auto max-w-(--breakpoint-2xl) p-4 md:p-6">
            <!-- Page Header -->
            <div class="mb-6">
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                <div>
                  <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-1">
                    Cost Center Management
                  </h1>
                  <p class="text-sm text-gray-500 dark:text-gray-400">
                    Manage cost centers, budgets, and user assignments
                  </p>
                </div>
                <div class="flex items-center gap-3">
                  <a
                    href="csv-upload.html"
                    class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 transition-colors"
                  >
                    <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                    </svg>
                    Upload CSV
                  </a>
                  <button
                    @click="openEdit({type: 'new'})"
                    class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors"
                  >
                    <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                    </svg>
                    New Cost Center
                  </button>
                </div>
              </div>
            </div>

            <!-- Success Alert -->
            <div x-show="showSuccess" x-cloak x-transition class="mb-6">
              <include src="./partials/alert/alert-success.html" />
            </div>

            <!-- Filters Row -->
            <div class="mb-6 flex flex-col sm:flex-row gap-3">
              <div class="flex-1">
                <div class="relative">
                  <span class="absolute top-1/2 left-4 -translate-y-1/2">
                    <svg
                      class="fill-gray-500 dark:fill-gray-400"
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M3.04175 9.37363C3.04175 5.87693 5.87711 3.04199 9.37508 3.04199C12.8731 3.04199 15.7084 5.87693 15.7084 9.37363C15.7084 12.8703 12.8731 15.7053 9.37508 15.7053C5.87711 15.7053 3.04175 12.8703 3.04175 9.37363ZM9.37508 1.54199C5.04902 1.54199 1.54175 5.04817 1.54175 9.37363C1.54175 13.6991 5.04902 17.2053 9.37508 17.2053C11.2674 17.2053 13.003 16.5344 14.357 15.4176L17.177 18.238C17.4699 18.5309 17.9448 18.5309 18.2377 18.238C18.5306 17.9451 18.5306 17.4703 18.2377 17.1774L15.418 14.3573C16.5365 13.0033 17.2084 11.2669 17.2084 9.37363C17.2084 5.04817 13.7011 1.54199 9.37508 1.54199Z"
                        fill=""
                      />
                    </svg>
                  </span>
                  <input
                    type="text"
                    x-model="searchQuery"
                    placeholder="Search cost centers, users, or products..."
                    class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pr-4 pl-12 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30"
                  />
                </div>
              </div>
              <div class="sm:w-64">
                <select
                  x-model="selectedCustomer"
                  class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"
                >
                  <option>Hugo Boss</option>
                  <option>Customer A</option>
                  <option>Customer B</option>
                  <option>Customer C</option>
                  <option>Customer D</option>
                </select>
              </div>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6">
              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Mappings</p>
                    <p class="mt-2 text-3xl font-bold text-gray-900 dark:text-white">245</p>
                  </div>
                  <div class="flex h-12 w-12 items-center justify-center rounded-full bg-blue-50 dark:bg-blue-900/20">
                    <svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                  </div>
                </div>
                <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                  <span class="text-green-600">+12</span> from last import
                </p>
              </div>

              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Active Users</p>
                    <p class="mt-2 text-3xl font-bold text-gray-900 dark:text-white">45</p>
                  </div>
                  <div class="flex h-12 w-12 items-center justify-center rounded-full bg-purple-50 dark:bg-purple-900/20">
                    <svg class="h-6 w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                  </div>
                </div>
                <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                  Across 12 cost centers
                </p>
              </div>

              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Cost Centers</p>
                    <p class="mt-2 text-3xl font-bold text-gray-900 dark:text-white">12</p>
                  </div>
                  <div class="flex h-12 w-12 items-center justify-center rounded-full bg-orange-50 dark:bg-orange-900/20">
                    <svg class="h-6 w-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                    </svg>
                  </div>
                </div>
                <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                  4 categories
                </p>
              </div>

              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Budget</p>
                    <p class="mt-2 text-3xl font-bold text-gray-900 dark:text-white">¬£127.5K</p>
                  </div>
                  <div class="flex h-12 w-12 items-center justify-center rounded-full bg-green-50 dark:bg-green-900/20">
                    <svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                </div>
                <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                  <span class="text-orange-600">85%</span> utilized
                </p>
              </div>
            </div>

            <!-- View Tabs -->
            <div class="mb-6">
              <div class="border-b border-gray-200 dark:border-gray-800">
                <nav class="-mb-px flex space-x-8">
                  <button
                    @click="activeTab = 'costCenter'"
                    :class="activeTab === 'costCenter' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'"
                    class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"
                  >
                    By Cost Center
                  </button>
                  <button
                    @click="activeTab = 'user'"
                    :class="activeTab === 'user' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'"
                    class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"
                  >
                    By User
                  </button>
                  <button
                    @click="activeTab = 'product'"
                    :class="activeTab === 'product' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'"
                    class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"
                  >
                    By Product
                  </button>
                  <button
                    @click="activeTab = 'table'"
                    :class="activeTab === 'table' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300'"
                    class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"
                  >
                    Table View
                  </button>
                </nav>
              </div>
            </div>

            <!-- By Cost Center View -->
            <div x-show="activeTab === 'costCenter'" class="space-y-4">
              <!-- Cost Center Card 1 -->
              <div class="rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden transition-all">
                <div class="p-5 sm:p-6">
                  <div class="flex items-start justify-between">
                    <div class="flex-1">
                      <div class="flex items-center gap-3 mb-3">
                        <span class="text-2xl">üì¶</span>
                        <div>
                          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            Packaging & Bags (CC-003)
                          </h3>
                          <p class="text-sm text-gray-500 dark:text-gray-400">
                            12 Users ‚Ä¢ 8 Products ‚Ä¢ Over budget: Block Checkout
                          </p>
                        </div>
                      </div>

                      <div class="mb-3">
                        <div class="flex items-center justify-between mb-2">
                          <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Budget Utilization</span>
                          <span class="text-sm font-semibold text-gray-900 dark:text-white">¬£45,000 / ¬£50,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                          <div class="bg-orange-600 h-2.5 rounded-full" style="width: 90%"></div>
                        </div>
                        <p class="text-xs text-orange-600 mt-1">90% utilized</p>
                      </div>
                    </div>

                    <div class="flex items-center gap-2 ml-4">
                      <button
                        @click="openEdit({name: 'Packaging & Bags', code: 'CC-003', budget: 50000})"
                        class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors dark:hover:bg-blue-900/20"
                      >
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </button>
                      <button
                        @click="toggleCard('cc1')"
                        class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors dark:hover:bg-gray-800"
                      >
                        <svg
                          class="h-5 w-5 transition-transform"
                          :class="expandedCard === 'cc1' ? 'rotate-180' : ''"
                          fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Expanded Details -->
                <div
                  x-show="expandedCard === 'cc1'"
                  x-collapse
                  class="border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50"
                >
                  <div class="p-5 sm:p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">Assigned Users (12)</h4>
                        <div class="space-y-2">
                          <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">HB-001 (Store Manager)</span>
                            <span class="text-xs text-gray-500">¬£3,800 / ¬£4,000</span>
                          </div>
                          <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">HB-002 (Head Office)</span>
                            <span class="text-xs text-gray-500">¬£4,500 / ¬£5,000</span>
                          </div>
                          <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">HB-005 (Regional Manager)</span>
                            <span class="text-xs text-gray-500">¬£2,100 / ¬£3,000</span>
                          </div>
                          <button class="text-sm text-blue-600 hover:text-blue-700 font-medium">View all 12 users ‚Üí</button>
                        </div>
                      </div>

                      <div>
                        <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">Assigned Products (8)</h4>
                        <div class="space-y-2">
                          <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Branded Carrier Bags (Large)</span>
                            <span class="text-xs text-gray-500">SKU: BAG-CAR-LG</span>
                          </div>
                          <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Gift Boxes Premium</span>
                            <span class="text-xs text-gray-500">SKU: BOX-GIFT-P</span>
                          </div>
                          <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-900 rounded-lg">
                            <span class="text-sm text-gray-700 dark:text-gray-300">Mailing Bags</span>
                            <span class="text-xs text-gray-500">SKU: BAG-MAIL</span>
                          </div>
                          <button class="text-sm text-blue-600 hover:text-blue-700 font-medium">View all 8 products ‚Üí</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Cost Center Card 2 -->
              <div class="rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden">
                <div class="p-5 sm:p-6">
                  <div class="flex items-start justify-between">
                    <div class="flex-1">
                      <div class="flex items-center gap-3 mb-3">
                        <span class="text-2xl">üè™</span>
                        <div>
                          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            Store Consumables (CC-001)
                          </h3>
                          <p class="text-sm text-gray-500 dark:text-gray-400">
                            23 Users ‚Ä¢ 45 Products ‚Ä¢ Over budget: Require Approval
                          </p>
                        </div>
                      </div>

                      <div class="mb-3">
                        <div class="flex items-center justify-between mb-2">
                          <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Budget Utilization</span>
                          <span class="text-sm font-semibold text-gray-900 dark:text-white">¬£8,500 / ¬£10,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                          <div class="bg-green-600 h-2.5 rounded-full" style="width: 85%"></div>
                        </div>
                        <p class="text-xs text-green-600 mt-1">85% utilized</p>
                      </div>
                    </div>

                    <div class="flex items-center gap-2 ml-4">
                      <button
                        @click="openEdit({name: 'Store Consumables', code: 'CC-001', budget: 10000})"
                        class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors dark:hover:bg-blue-900/20"
                      >
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </button>
                      <button
                        @click="toggleCard('cc2')"
                        class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors dark:hover:bg-gray-800"
                      >
                        <svg
                          class="h-5 w-5 transition-transform"
                          :class="expandedCard === 'cc2' ? 'rotate-180' : ''"
                          fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Cost Center Card 3 -->
              <div class="rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden">
                <div class="p-5 sm:p-6">
                  <div class="flex items-start justify-between">
                    <div class="flex-1">
                      <div class="flex items-center gap-3 mb-3">
                        <span class="text-2xl">üßπ</span>
                        <div>
                          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            Cleaning Supplies (CC-006)
                          </h3>
                          <p class="text-sm text-gray-500 dark:text-gray-400">
                            18 Users ‚Ä¢ 12 Products ‚Ä¢ Over budget: Block Checkout
                          </p>
                        </div>
                      </div>

                      <div class="mb-3">
                        <div class="flex items-center justify-between mb-2">
                          <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Budget Utilization</span>
                          <span class="text-sm font-semibold text-gray-900 dark:text-white">¬£3,200 / ¬£5,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                          <div class="bg-blue-600 h-2.5 rounded-full" style="width: 64%"></div>
                        </div>
                        <p class="text-xs text-blue-600 mt-1">64% utilized</p>
                      </div>
                    </div>

                    <div class="flex items-center gap-2 ml-4">
                      <button
                        @click="openEdit({name: 'Cleaning Supplies', code: 'CC-006', budget: 5000})"
                        class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors dark:hover:bg-blue-900/20"
                      >
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </button>
                      <button
                        @click="toggleCard('cc3')"
                        class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors dark:hover:bg-gray-800"
                      >
                        <svg
                          class="h-5 w-5 transition-transform"
                          :class="expandedCard === 'cc3' ? 'rotate-180' : ''"
                          fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- By User View -->
            <div x-show="activeTab === 'user'" x-cloak class="space-y-4">
              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between mb-4">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center">
                      <span class="text-sm font-semibold text-blue-600">HB</span>
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900 dark:text-white">HB-001 - Store Manager Manchester</h3>
                      <p class="text-sm text-gray-500 dark:text-gray-400">3 Cost Centers ‚Ä¢ ¬£10,400 Total Budget</p>
                    </div>
                  </div>
                </div>
                <div class="space-y-2">
                  <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg">
                    <span class="text-sm text-gray-700 dark:text-gray-300">üì¶ Packaging & Bags</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">¬£3,800 / ¬£4,000</span>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg">
                    <span class="text-sm text-gray-700 dark:text-gray-300">üè™ Store Consumables</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">¬£1,100 / ¬£1,200</span>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg">
                    <span class="text-sm text-gray-700 dark:text-gray-300">üßπ Cleaning Supplies</span>
                    <span class="text-sm font-medium text-gray-900 dark:text-white">¬£520 / ¬£800</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- By Product View -->
            <div x-show="activeTab === 'product'" x-cloak class="space-y-4">
              <div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">
                <div class="flex items-center justify-between mb-4">
                  <div>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Branded Carrier Bags (Large)</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">SKU: BAG-CAR-LG ‚Ä¢ Mapped to 12 users</p>
                  </div>
                </div>
                <div class="space-y-2">
                  <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg">
                    <span class="text-sm text-gray-700 dark:text-gray-300">HB-001 ‚Üí üì¶ Packaging & Bags</span>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg">
                    <span class="text-sm text-gray-700 dark:text-gray-300">HB-002 ‚Üí üì¶ Packaging & Bags</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Table View -->
            <div x-show="activeTab === 'table'" x-cloak>
              <div class="rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden">
                <div class="overflow-x-auto">
                  <table class="w-full">
                    <thead class="bg-gray-50 dark:bg-gray-800/50">
                      <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">User</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">Product</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">Cost Center</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">Budget</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">Period</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase dark:text-gray-400">Actions</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 dark:divide-gray-800">
                      <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50">
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-white">HB-001</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Branded Carrier Bags</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Packaging & Bags</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">¬£4,000</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Yearly</td>
                        <td class="px-6 py-4">
                          <button class="text-blue-600 hover:text-blue-700 text-sm font-medium">Edit</button>
                        </td>
                      </tr>
                      <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50">
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-white">HB-001</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Till Rolls (Thermal)</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Store Consumables</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">¬£1,200</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Yearly</td>
                        <td class="px-6 py-4">
                          <button class="text-blue-600 hover:text-blue-700 text-sm font-medium">Edit</button>
                        </td>
                      </tr>
                      <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50">
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-white">HB-002</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Gift Boxes Premium</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Packaging & Bags</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">¬£5,000</td>
                        <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">Yearly</td>
                        <td class="px-6 py-4">
                          <button class="text-blue-600 hover:text-blue-700 text-sm font-medium">Edit</button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Edit Modal -->
            <div
              x-show="editModal"
              x-cloak
              class="fixed inset-0 z-99999 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"
              @click.self="editModal = false"
            >
              <div class="bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full mx-4 dark:bg-gray-900"
                   x-transition:enter="transition ease-out duration-300"
                   x-transition:enter-start="opacity-0 scale-95"
                   x-transition:enter-end="opacity-100 scale-100">
                <div class="flex items-center justify-between mb-6">
                  <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    <span x-text="editingItem?.type === 'new' ? 'New Cost Center' : 'Edit Cost Center'"></span>
                  </h3>
                  <button @click="editModal = false" class="text-gray-400 hover:text-gray-600">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </button>
                </div>

                <div class="space-y-4">
                  <div>
                    <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">Cost Center Name</label>
                    <input
                      type="text"
                      x-model="editingItem?.name"
                      class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"
                    />
                  </div>

                  <div>
                    <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">Cost Center Code</label>
                    <input
                      type="text"
                      x-model="editingItem?.code"
                      class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"
                    />
                  </div>

                  <div>
                    <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">Annual Budget (¬£)</label>
                    <input
                      type="number"
                      x-model="editingItem?.budget"
                      class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90"
                    />
                  </div>

                  <div>
                    <label class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">Over Budget Action</label>
                    <select class="shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90">
                      <option>Require Approval</option>
                      <option>Block Checkout</option>
                      <option>Allow with Warning</option>
                    </select>
                  </div>
                </div>

                <div class="flex justify-end gap-3 mt-6">
                  <button
                    @click="editModal = false"
                    class="px-6 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 transition-colors"
                  >
                    Cancel
                  </button>
                  <button
                    @click="saveEdit()"
                    class="px-6 py-2.5 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors"
                  >
                    Save Changes
                  </button>
                </div>
              </div>
            </div>
          </div>
        </main>
        <!-- ===== Main Content End ===== -->
      </div>
      <!-- ===== Content Area End ===== -->
    </div>
    <!-- ===== Page Wrapper End ===== -->
  </body>
</html>
